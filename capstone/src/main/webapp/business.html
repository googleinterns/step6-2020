<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Business Profile</title>
    <link rel="stylesheet" href="css/business.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" a href="css/businessBS.css"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCuIcAn0GsCDsALoF3puLLDADHNzmc44R8&libraries=places"
        async defer></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="js/business.js" type="module"></script>
  </head>
  <body>
    <!-- Navigation Bar -->
    <div id="Header">
      <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
        <div class="container">
          <button class="navbar-toggler" data-toggle="collapse" data-target="#Navbar">
            <span class="navbar-toggler-icon"></span>
          </button>
          <a href="index.html" class="navbar-brand"><h3>Support Local Businesses</h3></a>
          <div class="collapse navbar-collapse" id="Navbar">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
              <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
              <li class="nav-item" id="profile-button"></li>
              <li class="nav-item" id="auth-button"></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>

    <!-- ShowCase -->
    <div id="bg-img"></div>

    <div id="view-business-section">
      <!-- View Profile Page -->
      <div id="view-profile">
        <div class="container">
          <div class="row">
            <div class="col">
              <div id="AboutData">
                <div class="card bg-white">
                  <div class="card-title my-5">
                    <div class="media">
                      <img src="../img/business_icon.png" width="300" height="300" class="img-fluid rounded-top mx-5 d-none d-lg-block">
                      <div class="media-body">
                        <h3 id="business-name" class="display-3 ml-5"></h3>
                        <p id="business-location" class="display-5 text-muted ml-5"></p>
                        <p id="business-bio" class="display-7 ml-5"></p>
                        <div id="map" class="lead text-justify ml-5"></div>
                      </div>
                    </div>
                  </div>

                  <div class="card-footer bg-danger">
                    <button onclick="toggleProfile()" id="edit-button" class="btn btn-light float-left"><a href="#">Edit Profile</a></button>
                    <button class="btn btn-success float-right"><a href="#">Follow Business</a></button>
                    <button class="btn btn-warning float-right mx-2" id="getStarted-button"><a href="#" data-toggle="modal" data-target="#getStarted">Get Started</a></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="container mt-5">
          <div class="row">
            <div class="col">
              <div class="business-details">
                <span class="bg-danger text-white">Pandemic Story</span><hr class="bg-danger">
                <p id="business-story" class="lead text-justify"></p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="container mt-5">
          <div class="row">
            <div class="col">
              <div class="business-details">
                <span class="bg-danger text-white">About The Business</span><hr class="bg-danger">
                <p id="business-about" class="lead text-justify"></p>
              </div>
            </div>
          </div>
        </div>

        <div class="container mt-5">
          <div class="row">
            <div class="col">
              <div class="business-details">
                <span class="bg-danger text-white">How You Can Support</span><hr class="bg-danger">
                <p id="business-support" class="lead text-justify"></p>
              </div>
            </div>
          </div>
        </div>

        <div class="container mt-5">
          <div class="row">
            <div class="col">
              <div class="business-details">
                <span class="bg-danger text-white">Calendar of Events</span><hr class="bg-danger">
                <div id="business-calendar"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="container mt-5">
          <div class="row">
            <div class="col">
              <div class="business-details">
                <span class="bg-dark text-white">Comments</span><hr class="bg-dark">
                <div id="comment-section"></div>
              </div>
            </div>
          </div>
        </div>  
      </div>
    </div>


    <!-- Edit Profile Page -->
    <div id="edit-business-section" style="display: none">
      <div class="container">
        <div class="row">
          <div class="col">
            <div id="editForm">
              <div class="card bg-white">
                <div class="card-title my-5">
                  <div class="media">
                    <img src="../img/business_icon.png" width="300" height="300" class="img-fluid rounded-top mx-5 d-none d-lg-block">
                    <h3 class="display-3 ml-5">Edit Profile</h3>
                  </div>
                  
                  <div class="media-body">
                    <form id="edit-profile">
                      <div class="form-group" id="first-question">
                        <h5><label for="isBusiness" class="display-5">Are you a business owner?</label></h5>

                        <label for="yes"><input type="radio" id="yes" name="isBusiness" value="Yes" onclick="hasAnswerQuestionnaire()" checked>
                        Yes</label>

                        <label for="no" class="ml-4"><input type="radio" id="no" name="isBusiness" value="No" onclick="hasAnswerQuestionnaire()">
                        No</label>
                      </div>

                      <div id="basic-questionnaire">
                        <div class="form-group" id="name-section">
                            <h5><label for="name">Name:</label></h5>
                            <input id="edit-name" placeholder="Your Name *" type="text" name="name" required><br>
                        </div>
                        
                        <div class="form-group" id="location-section">
                            <h5><label for="location">Location:</label></h5>
                            <input id="edit-location" name="location" placeholder="Add location" onFocus="geolocate()" type="text" /><br>
                        </div>

                        <div class="form-group" id="lat-long">
                            <input name="lat" id="edit-lat" value="" />
                            <input name="long" id="edit-long" value="" />
                        </div>
                        
                        <div class="form-group" id="bio-section">
                            <h5><label for="bio">Short bio:</label></h5>
                            <textarea id="edit-bio" name="bio" rows="10" cols="60"></textarea>
                        </div>
                      </div>

                      <!-- Business Owner Additional Questionnaires -->
                      <div id="business-questionnaire">
                        <div class="form-group" id="story-section">
                            <h5><label for="story">How did the pandemic affect your business?</label></h5>
                            <textarea id="edit-story" name="story" rows="10" cols="60"></textarea>
                        </div>

                        <div class="form-group" id="about-section">
                            <h5><label for="about">Share your business</label></h5>
                            <textarea id="edit-about" name="about" rows="10" cols="60"
                                placeholder="You can share your business website, grubhub delivery link, or describe what your business has to offer!"></textarea>
                        </div>

                        <div class="form-group" id="calendar-section">
                            <h5><label for="calendar">Share your calendar</label></h5>
                            <p>If you have a public Google Calendar of events, feel free to share the linked email below.</p>
                            <p><strong>NOTE</strong>: Other users will be able to see this email address and events that you may not have intended to be marked as public.</p>
                            <p>If the email address entered does not have a linked Google Calendar, it will display an empty calendar on your page.</p>
                            
                            <input id="edit-calendar" type="text" name="calendarEmail" onchange="previewCalendar()"></input>
                            
                            <div id="calendar-warning" style="display: none">
                              <p><strong>NOTE</strong>: This is what other users when they navigate to your business profile page.</p>
                              <p><strong>NOTE</strong>: Make sure the calendar is public so that other users can see the events on the calendar.</p>
                              <p><strong>IMPORTANT</strong>: You may be able to see your calendar since you are currently logged into your Google account, so make sure the visibility of events is set accordingly.</p>
                              <p>You can do so by following <a href="https://support.google.com/calendar/answer/37083?hl=en">these instructions</a>.</p>
                            </div>
                            <iframe id="edit-calendar-preview" height="500px" width="700px" style="display: none"></iframe><br>
                        </div>

                        <div class="form-group" id="support-section">
                            <h5><label for="support">How can we support you?</label></h5>
                            <textarea id="edit-support" name="support" rows="10" cols="60"
                                placeholder="You can share your gofundme link, share a transfer giftcard link, your PO box, or simply ask people to post a generous comment"></textarea>
                        </div>
                      </div>
                      
                      <input type="button" value="Save" class="btn btn-primary" id="submit-button" onclick="submitProfileForm()">
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Get Started Modal -->
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="modal fade" id="getStarted">
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h2>Getting Started With Your Profile</h2>
                </div>

                <div class="modal-body">
                  <div>
                    <h5>Welcome to our platform for supporting local businesses!</h5>
                    <p>This guide will help you get started with using our platform. First, let's build your profile!</p>
                  </div>

                  <div>
                    <h5>Where to edit your profile?</h5>
                    <p>
                      Across from the "Get Started" button, there's an "Edit Profile" button.<br> 
                      Click on that to get started in creating your profile.<br>
                      There are two main users: Businesses and general users.<br> 
                      Based on your selection, there will be associated questions for you to fill out.<br>
                    </p>
                  </div>

                  <div>
                    <h5>How to edit your profile?</h5>
                    <p>
                      Enter your name that everyone will see when others view your profile or when you post a comment.<br>
                      If you're a business, you would want to enter your full business address so others can find you easily.<br>
                      For general users, you can just enter a generic location like a city or state! :)<br>
                    </p>
                    <p>
                      Fill out the rest of your profile however you like. There will be suggestions to guide you along the way!
                    </p>
                  </div> 
                  
                  <div>
                    <h5>Done!</h5>
                    <p>
                      Great! After you're done with editing your profile, you can go ahead and click "Save". You can always come back and
                      edit your profile anytime! 
                    </p>
                    <p>
                      Now you can explore the platform! Feel free to checkout other businesses, follow them, post comments, share their profile, and support one another during this pandemic time. 
                    </p>
                    <p>
                      Thank you for helping your local businesses! 
                    </p>
                </div>

                <div class="modal-footer">
                  <input type="button" class="btn btn-primary" data-dismiss="modal" value="Close">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
